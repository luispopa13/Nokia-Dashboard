{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\andre\\\\Desktop\\\\Nokia\\\\tickets-dashboard\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport StatsCards from \"./StatsCards\";\nimport TicketList from \"./TicketList\";\nimport BarChart from \"./BarChart\";\nimport History from \"./History\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const [stats, setStats] = useState({\n    total: 0,\n    resolved: 0,\n    avgTime: 0\n  });\n  const [tickets, setTickets] = useState([]);\n  const [dailyData, setDailyData] = useState([]);\n  const [period, setPeriod] = useState(\"month\"); // zi, săptămână, lună, an\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    fetchDashboard();\n  }, [period]);\n  const fetchDashboard = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(`http://localhost/tickets-api/dashboard_stats.php?period=${period}`);\n      const data = await res.json();\n      setStats(data.stats || {\n        total: 0,\n        resolved: 0,\n        avgTime: 0\n      });\n      setDailyData(data.dailyChart || []);\n      setTickets(data.tickets || []);\n    } catch (err) {\n      console.error(\"Eroare la fetch dashboard:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 py-10 px-4 sm:px-10\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center mb-6 gap-4\",\n        children: [\"day\", \"week\", \"month\", \"year\"].map(p => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setPeriod(p),\n          className: `px-4 py-2 rounded ${period === p ? \"bg-blue-600 text-white\" : \"bg-gray-300 text-gray-800\"}`,\n          children: [p === \"day\" && \"Zi\", p === \"week\" && \"Săptămână\", p === \"month\" && \"Lună\", p === \"year\" && \"An\"]\n        }, p, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatsCards, {\n        stats: stats,\n        loading: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-700 mb-4\",\n          children: \"Tickete pe Zile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-gray-400\",\n          children: \"Se \\xEEncarc\\u0103 graficul...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(BarChart, {\n          data: dailyData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-gray-400\",\n        children: \"Se \\xEEncarc\\u0103 ticketele...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(TicketList, {\n        tickets: tickets\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"R4/cxs8qMnzcNnH69hwNpMoB9xk=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["useState","useEffect","StatsCards","TicketList","BarChart","History","jsxDEV","_jsxDEV","Dashboard","_s","stats","setStats","total","resolved","avgTime","tickets","setTickets","dailyData","setDailyData","period","setPeriod","loading","setLoading","fetchDashboard","res","fetch","data","json","dailyChart","err","console","error","className","children","map","p","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/andre/Desktop/Nokia/tickets-dashboard/src/components/Dashboard.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport StatsCards from \"./StatsCards\";\r\nimport TicketList from \"./TicketList\";\r\nimport BarChart from \"./BarChart\";\r\nimport History from \"./History\";\r\n\r\nexport default function Dashboard() {\r\n  const [stats, setStats] = useState({ total: 0, resolved: 0, avgTime: 0 });\r\n  const [tickets, setTickets] = useState([]);\r\n  const [dailyData, setDailyData] = useState([]);\r\n  const [period, setPeriod] = useState(\"month\"); // zi, săptămână, lună, an\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchDashboard();\r\n  }, [period]);\r\n\r\n  const fetchDashboard = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(`http://localhost/tickets-api/dashboard_stats.php?period=${period}`);\r\n      const data = await res.json();\r\n      setStats(data.stats || { total: 0, resolved: 0, avgTime: 0 });\r\n      setDailyData(data.dailyChart || []);\r\n      setTickets(data.tickets || []);\r\n    } catch (err) {\r\n      console.error(\"Eroare la fetch dashboard:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 py-10 px-4 sm:px-10\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Selectare Perioadă */}\r\n        <div className=\"flex justify-center mb-6 gap-4\">\r\n          {[\"day\", \"week\", \"month\", \"year\"].map((p) => (\r\n            <button\r\n              key={p}\r\n              onClick={() => setPeriod(p)}\r\n              className={`px-4 py-2 rounded ${period === p ? \"bg-blue-600 text-white\" : \"bg-gray-300 text-gray-800\"}`}\r\n            >\r\n              {p === \"day\" && \"Zi\"}\r\n              {p === \"week\" && \"Săptămână\"}\r\n              {p === \"month\" && \"Lună\"}\r\n              {p === \"year\" && \"An\"}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* KPIs */}\r\n        <StatsCards stats={stats} loading={loading} />\r\n\r\n        {/* Grafic Bar - Tickete pe Zile */}\r\n        <div className=\"bg-white p-6 rounded-lg shadow mb-8\">\r\n          <h2 className=\"text-lg font-semibold text-gray-700 mb-4\">Tickete pe Zile</h2>\r\n          {loading ? (\r\n            <p className=\"text-center text-gray-400\">Se încarcă graficul...</p>\r\n          ) : (\r\n            <BarChart data={dailyData} />\r\n          )}\r\n        </div>\r\n\r\n        {/* Lista Tickete */}\r\n        {loading ? (\r\n          <p className=\"text-center text-gray-400\">Se încarcă ticketele...</p>\r\n        ) : (\r\n          <TicketList tickets={tickets} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,QAAQ,MAAM,YAAY;AACjC,OAAOC,OAAO,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhC,eAAe,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EAClC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC;IAAEY,KAAK,EAAE,CAAC;IAAEC,QAAQ,EAAE,CAAC;IAAEC,OAAO,EAAE;EAAE,CAAC,CAAC;EACzE,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACiB,SAAS,EAAEC,YAAY,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACmB,MAAM,EAAEC,SAAS,CAAC,GAAGpB,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACqB,OAAO,EAAEC,UAAU,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EAE7CC,SAAS,CAAC,MAAM;IACdsB,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACJ,MAAM,CAAC,CAAC;EAEZ,MAAMI,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjCD,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAME,GAAG,GAAG,MAAMC,KAAK,CAAC,2DAA2DN,MAAM,EAAE,CAAC;MAC5F,MAAMO,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;MAC7BhB,QAAQ,CAACe,IAAI,CAAChB,KAAK,IAAI;QAAEE,KAAK,EAAE,CAAC;QAAEC,QAAQ,EAAE,CAAC;QAAEC,OAAO,EAAE;MAAE,CAAC,CAAC;MAC7DI,YAAY,CAACQ,IAAI,CAACE,UAAU,IAAI,EAAE,CAAC;MACnCZ,UAAU,CAACU,IAAI,CAACX,OAAO,IAAI,EAAE,CAAC;IAChC,CAAC,CAAC,OAAOc,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEF,GAAG,CAAC;IAClD,CAAC,SAAS;MACRP,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBACEf,OAAA;IAAKyB,SAAS,EAAC,8CAA8C;IAAAC,QAAA,eAC3D1B,OAAA;MAAKyB,SAAS,EAAC,mBAAmB;MAAAC,QAAA,gBAEhC1B,OAAA;QAAKyB,SAAS,EAAC,gCAAgC;QAAAC,QAAA,EAC5C,CAAC,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,CAAC,CAACC,GAAG,CAAEC,CAAC,iBACtC5B,OAAA;UAEE6B,OAAO,EAAEA,CAAA,KAAMhB,SAAS,CAACe,CAAC,CAAE;UAC5BH,SAAS,EAAE,qBAAqBb,MAAM,KAAKgB,CAAC,GAAG,wBAAwB,GAAG,2BAA2B,EAAG;UAAAF,QAAA,GAEvGE,CAAC,KAAK,KAAK,IAAI,IAAI,EACnBA,CAAC,KAAK,MAAM,IAAI,WAAW,EAC3BA,CAAC,KAAK,OAAO,IAAI,MAAM,EACvBA,CAAC,KAAK,MAAM,IAAI,IAAI;QAAA,GAPhBA,CAAC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAQA,CACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAGNjC,OAAA,CAACL,UAAU;QAACQ,KAAK,EAAEA,KAAM;QAACW,OAAO,EAAEA;MAAQ;QAAAgB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAG9CjC,OAAA;QAAKyB,SAAS,EAAC,qCAAqC;QAAAC,QAAA,gBAClD1B,OAAA;UAAIyB,SAAS,EAAC,0CAA0C;UAAAC,QAAA,EAAC;QAAe;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAC5EnB,OAAO,gBACNd,OAAA;UAAGyB,SAAS,EAAC,2BAA2B;UAAAC,QAAA,EAAC;QAAsB;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,gBAEnEjC,OAAA,CAACH,QAAQ;UAACsB,IAAI,EAAET;QAAU;UAAAoB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAC7B;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EAGLnB,OAAO,gBACNd,OAAA;QAAGyB,SAAS,EAAC,2BAA2B;QAAAC,QAAA,EAAC;MAAuB;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,gBAEpEjC,OAAA,CAACJ,UAAU;QAACY,OAAO,EAAEA;MAAQ;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAChC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC/B,EAAA,CAnEuBD,SAAS;AAAAiC,EAAA,GAATjC,SAAS;AAAA,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}